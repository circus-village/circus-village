!function t(i,e,n){function s(r,a){if(!e[r]){if(!i[r]){var h="function"==typeof require&&require;if(!a&&h)return h(r,!0);if(o)return o(r,!0);var d=new Error("Cannot find module '"+r+"'");throw d.code="MODULE_NOT_FOUND",d}var l=e[r]={exports:{}};i[r][0].call(l.exports,function(t){var e=i[r][1][t];return s(e?e:t)},l,l.exports,t,i,e,n)}return e[r].exports}for(var o="function"==typeof require&&require,r=0;r<n.length;r++)s(n[r]);return s}({1:[function(t,i){function e(){var i=t("./slideshow"),e=t("./image-gallery");this.slideshow=new i({resize:a}),this.gallery=new e({viewport:n,navigate:this.navigate.bind(this)}),this.body=c("#scroll").get(0),this.menu=c(".menu"),this.leader=c(".leader"),this.controls=c(".controls"),this.links=c('a[href^="#"]'),this.info=c(".accomodation > div"),this.info.on("click",function(t){var i=c(t.currentTarget),e=c(i.find("a[href]").get(0)).attr("href");document.location.hash=e})}function n(){var t=Math.max(document.documentElement.clientWidth,window.innerWidth||0),i=Math.max(document.documentElement.clientHeight,window.innerHeight||0);return{width:t,height:i}}function s(t){t.preventDefault();var i=c(t.currentTarget),e=i.attr("href");return this.navigate(e),history&&history.pushState({hash:e},i.attr("title"),e),!1}function o(t,i){if(i)return void history.replaceState({hash:t},null,t);var e=t.replace(/^#/,""),n=c('[id="'+e+'"]'),s=document.location.hash;if(t===u)this.gallery.close(),0!==this.body.scrollTop&&this.scrollTo(0);else if(n.length){var o=n.get(0).getBoundingClientRect(),r=this.body.scrollTop+o.top;this.gallery.close(),this.scrollTo(r)}else if(t===p)this.gallery.start(null,s);else{var a=this.gallery.find(e);a&&this.gallery.start(a,s)}}function r(){var t=this.body.scrollTop;t?(this.menu.addClass("transparent"),this.leader.addClass("transparent"),this.controls.hide(),this.slideshow.stop()):(this.menu.removeClass("transparent"),this.leader.removeClass("transparent"),this.controls.show())}function a(t,i){var e,s=726,o=n().height;i=i||c("header .slide"),o>s?(e=s+"px",i.css({height:e,"background-position":"0 0","background-size":"auto"})):(e="100%",i.css({height:e,"background-position":"center bottom","background-size":"cover"})),c("header").css({height:e})}function h(){function t(t){t.preventDefault(),!t.state}function i(t){t.preventDefault(),t.stopImmediatePropagation();var i=document.location.hash;i&&this.navigate(i)}function e(t){t.preventDefault(),t.stopImmediatePropagation();var i=document.location.hash;i?this.navigate(i):this.navigate(u,!0)}function n(){h=this.slideshow.playing,this.slideshow.stop()}function o(){h&&this.slideshow.start()}a();var h;this.body.scrollTop=0,c(this.body).on("scroll",r.bind(this)),this.links.on("click",s.bind(this)),c(window).on("resize",a),c(window).on("blur",n.bind(this)),c(window).on("focus",o.bind(this)),this.onHashChange=i.bind(this),c(window).on("load",e.bind(this)),c(window).on("hashchange",this.onHashChange),c(window).on("popstate",t.bind(this))}function d(t,i,e,n){return-e*(t/=n)*(t-2)+i}function l(t){function i(){var h=d(s,e,r,o);return n.scrollTop=0>h?-h:h,s>=o?void(n.scrollTop=t):(a(i),void s++)}var e=this.body.scrollTop,n=this.body,s=0,o=50,r=t>e?e-t:t-e,a=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;n.offsetHeight+n.scrollTop>=n.scrollHeight&&t>e||t!==e&&i()}var c=t("air"),u="#!",p="#gallery";c.plugin([t("air/append"),t("air/attr"),t("air/class"),t("air/create"),t("air/css"),t("air/data"),t("air/event"),t("air/find"),t("air/hidden"),t("air/parent"),t("air/prepend"),t("air/remove")]);var f=e.prototype;f.start=h,f.scrollTo=l,f.navigate=o,i.exports=e},{"./image-gallery":3,"./slideshow":7,air:8,"air/append":10,"air/attr":11,"air/class":12,"air/create":13,"air/css":14,"air/data":15,"air/event":16,"air/find":17,"air/hidden":18,"air/parent":19,"air/prepend":20,"air/remove":21}],2:[function(t,i){i.exports=[{name:"bamboo-hut.jpg",width:3264,height:2448},{name:"bathing.jpg",width:1068,height:712},{name:"bonfire-decorations.jpg",width:2048,height:1366},{name:"bonfire-night.jpg",width:960,height:640},{name:"bridge.jpg",width:2048,height:1366},{name:"danny-paradise.jpg",width:3264,height:2448},{name:"food.jpg",width:960,height:640},{name:"garden.jpg",width:2048,height:1366},{name:"jungle-bungalow.jpg",width:720,height:960},{name:"massage-class.jpg",width:960,height:720},{name:"natural-pool.jpg",width:960,height:720},{name:"pizza-oven.jpg",width:1088,height:726},{name:"pizza.jpg",width:2048,height:1366},{name:"pond.jpg",width:1088,height:726},{name:"pool-tube.jpg",width:1088,height:726},{name:"sauna.jpg",width:2048,height:1366},{name:"teak-house-interior.jpg",width:2048,height:1366},{name:"teak-house.jpg",width:2448,height:2448},{name:"waterfalls.jpg",width:1088,height:726}]},{}],3:[function(t,i){function e(i){function e(){var t=n.hash;n.navigate(t,!0),n.close()}this.modal=p(".modal");var n=this,s=this.modal;this.modal.find(".close").on("click",function(t){t.preventDefault(),t.stopImmediatePropagation(),e()}),this.modal.find('[href="#previous"]').on("click",function(t){t.preventDefault(),t.stopImmediatePropagation(),n.previous()}),this.modal.find('[href="#next"]').on("click",function(t){t.preventDefault(),t.stopImmediatePropagation(),n.next()}),p(window).on("resize",this.constrain.bind(this)),p(window).on("keyup",function(t){s.hasClass("hidden")||(27===t.keyCode?e():39===t.keyCode?n.next():37===t.keyCode&&n.previous())}),this.navigate=i.navigate,this.viewport=i.viewport,this.base="assets/img/gallery/",this.data=t("./gallery.json"),this.index=0,this.preview=p(".modal > .preview > .images"),this.rendered=!1}function n(t,i){this.modal.removeClass("hidden"),i&&!this.hash&&(this.hash=i),this.layout(),this.load(t||this.item(this.index))}function s(t){return this.data[t]}function o(t){if(t!==this.current){var i,e=this.base+t.name,n={src:e},s=p.el("div",{"class":"vignette"});p(".modal > .viewer > .image > *").remove(),i=p.el("img",n),s.append(i),this.constrain(null,i,t),p(".modal > .viewer > .image").append(s),setTimeout(function(){i.addClass("opaque")},10),this.current=t,p(".preview > .images").find("img").removeClass("selected"),p(".preview > .images").find('img[data-id="'+d(t.name)+'"]').addClass("selected")}}function r(t,i,e){if(!this.modal.hasClass("hidden")&&(i=i||p(".modal > .viewer > .image img"),e=e||this.current)){var n,s,o={},r=e.width,a=e.height,h=r>a,d=20,l=1,c=p(".modal .preview"),u=this.viewport(),f=u.width-.2*u.width,g=u.height;return"none"!==c.css("display")&&(g-=parseInt(c.css("height").replace(/px$/,""))),i.attr("width",null),i.attr("height",null),o=i.attr(),n=Math.abs(f-2*d),s=Math.abs(g-2*d),n=Math.max(n,128),s=Math.max(s,128),(r>n||a>s)&&(h?(l=n/r,o.width=n+"px",a*l>s&&(delete o.width,o.height=s+"px")):(l=s/a,o.height=s+"px",r*l>n&&(delete o.height,o.width=n+"px"))),i.attr(o),o}}function a(){this.modal.addClass("hidden"),this.hash=null}function h(){function t(){var o=e.shift();if(o){var r=n+o.name,a=d(o.name),h=p.el("a",{href:"#"+a}),l=p.el("img",{src:r});l.data("index",""+i),l.data("id",""+a),h.append(l),s.append(h),i++,t()}}if(!this.rendered){var i=0,e=this.data.slice(0),n=this.base,s=this.preview;t(),this.rendered=!0}}function d(t){return t.replace(/\.jpg$/,"")}function l(){this.index++,this.index>=this.data.length&&(this.index=0);var t=this.item(this.index);document.location.hash="#"+d(t.name)}function c(){this.index--,this.index<0&&(this.index=this.data.length-1);var t=this.item(this.index);document.location.hash="#"+d(t.name)}function u(t){for(var i=0;i<this.data.length;i++)if(d(this.data[i].name)===t)return this.data[i]}var p=t("air"),f=e.prototype;f.start=n,f.item=s,f.load=o,f.close=a,f.next=l,f.find=u,f.previous=c,f.constrain=r,f.layout=h,i.exports=e},{"./gallery.json":2,air:8}],4:[function(t){var i=t("./app"),e=new i;e.start()},{"./app":1}],5:[function(t,i){function e(t,i,e){var n=new Image,s=new XMLHttpRequest;n.loaded=0,s.open("GET",t,!0),s.onload=function(){e&&e(n)},s.onprogress=function(t){t.lengthComputable&&(n.loaded=t.loaded/t.total,i&&i(n,n.loaded))},s.onloadstart=function(){n.loaded=0,i(n,n.loaded)},s.onloadend=function(){n.loaded=1},s.send()}i.exports=e},{}],6:[function(t,i){i.exports=["01.shala.jpg","02.group-massage.jpg","03.green-yoga.jpg","04.shrine.jpg","05.laos-kids.jpg","06.padi.jpg","07.bonfire.jpg","08.kuang-si.jpg"]},{}],7:[function(t,i){function e(i){var e,n,s,o=this;for(this.base="assets/img/slides/",this.slides=t("./slides.json"),this.playing=!1,this.index=-1,this.controls=c(".controls"),e=0;e<this.slides.length;e++)n=c.el("li"),s=c.el("img",{src:"assets/img/bullet.svg",alt:this.slides[e]}),n.append(s),this.controls.find("ul").append(n);this.controls.on("click",function(t){t.stopImmediatePropagation()}),this.controls.find("li").each(function(t,i){t=c(t),t.on("click",function(){o.select(i)})}),this.resize=i.resize,this.duration=1050,this.initial=0,this.delay=3e3,this.trigger=c("header"),this.trigger.on("click",this.toggle.bind(this));var r=this.pause=c(".play-pause");this.trigger.on("mouseover",function(){r.css({opacity:"1"})}),this.trigger.on("mouseout",function(){r.css({opacity:"0"})})}function n(){this.playing?this.stop():(this.pause.css({opacity:"0"}),this.start())}function s(t){function i(t,i){c(".progress").css({opacity:""+i,width:Math.round(100*i)+"%"})}if(this.playing){this.loading=!0;var e=this.base+this.slides[t],n=this,s=c.el("img");u(e,i,function(){c(".progress").css({opacity:"0",transition:"opacity 0.5s ease"}),n.show(e)});var o=this.controls.find("li"),r=c(o.get(t));o.removeClass("selected"),r.addClass("selected"),c("body").append(s)}}function o(t){function i(){this.preload(this.next())}t=t||this.delay,this.waiter=setTimeout(i.bind(this),t)}function r(t){function i(){return this.loading=!1,this.queued?(this.start(this.queued),void(this.queued=null)):(e.remove(),void this.wait())}var e=c("header .slide"),n=c.el("div",{"class":"slide"}),s={"background-image":"url("+t+")",opacity:"0","z-index":"1"};e.css({position:"absolute","z-index":"-2"}),n.css(s),e.get(0).parentNode.insertBefore(n.get(0),this.controls.get(0)),this.resize(null,n),n.on("transitionend",i.bind(this)),setTimeout(function(){s.opacity="1",n.css(s)},10)}function a(t){if(!this.playing){if(c(".menu, .leader").addClass("transparent"),this.loading)return void(this.queued=t);this.playing=!0,this.preload(void 0!==t?t:this.next())}}function h(){this.playing&&(c(".menu, .leader").removeClass("transparent"),clearTimeout(this.waiter),this.playing=!1)}function d(t){0>t?t=0:t>=this.slides.length&&(t=this.slides.length-1),t!==this.index&&(this.index=t,this.playing?(this.stop(),this.start(this.index)):this.start(this.index))}function l(){return this.index++,this.index>=this.slides.length&&(this.index=0),this.index}var c=t("air"),u=t("./preloader"),p=e.prototype;p.start=a,p.preload=s,p.show=r,p.select=d,p.next=l,p.stop=h,p.toggle=n,p.wait=o,i.exports=e},{"./preloader":5,"./slides.json":6,air:8}],8:[function(t,i){i.exports=t("./lib/air")},{"./lib/air":9}],9:[function(t,i){!function(){"use strict";function e(t,i){return this instanceof e?("string"==typeof i?i=document.querySelector(i):i instanceof e&&(i=i.get(0)),i=i||document,this.dom=arguments.length&&""!==t?"string"==typeof t?i.querySelectorAll(t):t:[],t instanceof e?this.dom=t.dom.slice(0):Array.isArray(t)||(this.dom instanceof NodeList?this.dom=Array.prototype.slice.call(this.dom):t&&(this.dom=t instanceof Node||t===window?[t]:[])),void(this.slice=Array.prototype.slice)):new e(t,i)}var n=t("zephyr"),s=e.prototype,o=n({proto:s,type:e});Object.defineProperty(s,"length",{get:function(){return this.dom.length}}),s.get=function(t){return void 0===t?this.dom:this.dom[t]},s.each=function(t){return this.dom.forEach(t),this},o.Air=e,s.air=o,i.exports=o}()},{zephyr:22}],10:[function(t,i){function e(){function t(t,i){e.each(function(e){e=n-1>i?e.cloneNode(!0):e,t.appendChild(e)})}var i,e,n=this.length,s=this.slice.call(arguments);for(i=0;i<s.length;i++)e=this.air(s[i]),this.each(t);return this}i.exports=function(){this.append=e}},{}],11:[function(t,i){function e(t,i){var e,n,s={};if(!this.length||void 0!==t&&!Boolean(t))return this;if(void 0===t&&void 0===i){for(n=this.dom[0].attributes,e=0;e<n.length;e++)s[n[e].name]=n[e].value;return s}return"string"!=typeof t||i?(this.each(function(e){if("object"==typeof t)for(var n in t)null!==t[n]?e.setAttribute(n,t[n]):e.removeAttribute(n);else e.setAttribute(t,i)}),this):null===i?(this.each(function(i){i.removeAttribute(t)}),this):this.dom[0].getAttribute(t)}i.exports=function(){this.attr=e}},{}],12:[function(t,i){function e(t){if(!t)return this;var i=t.split(/\s+/);return this.each(function(t){var e=t.getAttribute(r),n=e?e.split(/\s+/):[];i.forEach(function(t){~n.indexOf(t)||n.push(t)}),t.setAttribute(r,n.join(" "))}),this}function n(t){var i,e;for(i=0;i<this.length;i++)if(e=this.get(i).getAttribute(r),e=e?e.split(/\s+/):[],~e.indexOf(t))return!0;return!1}function s(t){if(!t)return this.each(function(t){t.removeAttribute(r)}),this;var i=t.split(/\s+/);return this.each(function(t){var e=t.getAttribute(r);if(e){var n=e.split(/\s+/);n=n.filter(function(t){return~i.indexOf(t)?!1:t}),t.setAttribute(r,n.join(" "))}}),this}function o(t){var i,e,n=t.split(/\s+/);for(e=0;e<n.length;e++)i=n[e],this.hasClass(i)?this.removeClass(i):this.addClass(i)}var r="class";i.exports=function(){this.addClass=e,this.hasClass=n,this.removeClass=s,this.toggleClass=o}},{}],13:[function(t,i){function e(t){return document.createElement(t)}function n(t){return document.createTextNode(t)}function s(t,i){var n=s.air(e(t));return i&&n.attr?n.attr(i):n}i.exports=function(){s.air=this.air,this.air.create=e,this.air.el=s,this.air.text=n}},{}],14:[function(t,i){function e(t,i){var e,n;return this.length?(t&&"object"==typeof t?n=t:t&&i&&(n={},n[t]=i),void 0===t?e=window.getComputedStyle(this.dom[0],null):"string"!=typeof t||i?(this.each(function(t){t.style=t.style;for(var i in n)t.style[i]=""+n[i]}),this):(e=window.getComputedStyle(this.dom[0],null),e.getPropertyValue(t))):this}i.exports=function(){this.css=e}},{}],15:[function(t,i){function e(t,i){function e(t){return"string"==typeof t&&0!==t.indexOf(n)&&(t=n+t),t}var s,o={};if("string"==typeof t)t=e(t);else if("object"==typeof t){for(s in t)o[e(s)]=t[s];t=o}return this.attr(t,i)}var n="data-";i.exports=function(){this.data=e}},{}],16:[function(t,i){function e(t,i,e){return this.each(function(n){n.addEventListener(t,i,e)}),this}function n(t,i,e){return this.each(function(n){n.removeEventListener(t,i,e)}),this}function s(t,i,e,n){i=void 0===typeof i?!0:i,e=void 0===typeof e?!0:e,n=n||"HTMLEvents",this.each(function(s){var o;return document.createEvent?(o=document.createEvent(n),o.initEvent(t,i,e),!s.dispatchEvent(o)):(o=document.createEventObject(),s.fireEvent("on"+t,o))})}function o(t,i){return this.trigger("click",t,i,"MouseEvents")}i.exports=function(){this.on=e,this.off=n,this.trigger=s,this.click=o}},{}],17:[function(t,i){function e(t){var i=[],e=this.air,n=this.slice;return this.each(function(s){i=i.concat(n.call(e(t,s).dom))}),e(i)}i.exports=function(){this.find=e}},{}],18:[function(t,i){function e(t){return void 0===t?this.attr(o):(t?this.attr(o,"1"):this.attr(o,null),this)}function n(t){return this.hidden(!1),"function"==typeof t&&t.call(this),this}function s(t){return this.hidden(!0),"function"==typeof t&&t.call(this),this.hidden(!0)}var o="hidden";i.exports=function(){this.hidden=e,this.show=n,this.hide=s}},{}],19:[function(t,i){function e(){var t=[],i=this.air,e=this.slice;return this.each(function(n){t=t.concat(e.call(i(n.parentNode).dom))}),i(t)}i.exports=function(){this.parent=e}},{}],20:[function(t,i){function e(){function t(t,i){e.each(function(e){e=n-1>i?e.cloneNode(!0):e,t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)})}var i,e,n=this.length,s=this.slice.call(arguments);for(i=0;i<s.length;i++)e=this.air(s[i]),this.each(t);return this}i.exports=function(){this.prepend=e}},{}],21:[function(t,i){function e(){var t,i;for(t=0;t<this.length;t++)i=this.dom[t],i.parentNode&&(i.parentNode.removeChild(i),this.dom.splice(t,1),t--);return this}i.exports=function(){this.remove=e}},{}],22:[function(t,i){!function(){"use strict";function t(t){function i(){}function e(i){var e,n,s;for(e in i)"function"==typeof i[e]?n=i[e]:(n=i[e].plugin,s=i[e].conf),t.field&&"function"==typeof n[t.field]&&(n=n[t.field]),n.call(h,s);return r}function n(){function t(){return r.Type.apply(this,i)}var i=Array.prototype.slice.call(arguments);return t.prototype=r.Type.prototype,new t}function s(){for(var t=s.proxy.apply(null,arguments),i=0;i<a.length;i++)a[i].apply(t,arguments);return t}function o(t){"function"!=typeof t||~a.indexOf(t)||a.push(t)}t=t||{};var r,a=t.hooks,h=t.proto||i.prototype;return r=t.main||n,Array.isArray(a)&&(s.proxy=r,r=s),r.Type=t.type||i,r.plugin=h.plugin=t.plugin||e,Array.isArray(a)&&(r.plugin.register=o),h.main=r,r}i.exports=t}()},{}]},{},[4]);