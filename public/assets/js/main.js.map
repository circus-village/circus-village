{"version":3,"sources":["webpack:///webpack/bootstrap 39cd78338ce4d0479d2a","webpack:///../assets/js/gallery.json","webpack:///../assets/js/slides.json","webpack:////home/muji/git/circus-village/website/src/assets/js/app.js","webpack:////home/muji/git/circus-village/website/src/assets/js/image-gallery.js","webpack:////home/muji/git/circus-village/website/src/assets/js/preloader.js","webpack:////home/muji/git/circus-village/website/src/assets/js/slideshow.js","webpack:////home/muji/git/circus-village/website/~/air/lib/air.js","webpack:////home/muji/git/circus-village/website/src/assets/js/index.js","webpack:////home/muji/git/circus-village/website/~/air/lib/air/append.js","webpack:////home/muji/git/circus-village/website/~/air/lib/air/attr.js","webpack:////home/muji/git/circus-village/website/~/air/lib/air/class.js","webpack:////home/muji/git/circus-village/website/~/air/lib/air/create.js","webpack:////home/muji/git/circus-village/website/~/air/lib/air/css.js","webpack:////home/muji/git/circus-village/website/~/air/lib/air/data.js","webpack:////home/muji/git/circus-village/website/~/air/lib/air/event.js","webpack:////home/muji/git/circus-village/website/~/air/lib/air/find.js","webpack:////home/muji/git/circus-village/website/~/air/lib/air/hidden.js","webpack:////home/muji/git/circus-village/website/~/air/lib/air/parent.js","webpack:////home/muji/git/circus-village/website/~/air/lib/air/prepend.js","webpack:////home/muji/git/circus-village/website/~/air/lib/air/remove.js","webpack:////home/muji/git/circus-village/website/~/zephyr/lib/zephyr.js"],"names":["$","require","HOME","PHOTOS","plugin","Application","Slideshow","Gallery","slideshow","resize","gallery","viewport","navigate","bind","body","get","menu","leader","controls","links","info","on","e","el","currentTarget","href","find","attr","document","location","hash","proto","prototype","w","Math","max","documentElement","clientWidth","window","innerWidth","h","clientHeight","innerHeight","width","height","onNavigate","preventDefault","history","pushState","replace","replaceState","id","target","close","scrollTop","scrollTo","length","rect","getBoundingClientRect","val","top","start","item","onScroll","removeClass","show","addClass","hide","stop","css","blurPlaying","onPopState","state","onHashChange","stopImmediatePropagation","onLoad","blur","playing","focus","easeOutQuad","iteration","diff","total","duration","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","offsetHeight","scrollHeight","doScroll","value","module","exports","ImageGallery","opts","modal","scope","exit","previous","next","constrain","hasClass","keyCode","base","thumbs","data","index","preview","rendered","layout","load","current","src","name","attrs","container","class","img","remove","append","setTimeout","key","iw","ih","landscape","padding","ratio","vw","vh","parseInt","abs","list","slice","shift","thumbnail","anchor","i","preloader","url","progress","callback","Image","req","XMLHttpRequest","loaded","open","onload","onprogress","lengthComputable","onloadstart","onloadend","send","slides","alt","each","select","delay","trigger","toggle","preload","loading","opacity","round","transition","items","wait","pause","waiter","header","style","prev","position","left","parentNode","insertBefore","queued","undefined","clearTimeout","plug","Air","context","querySelector","arguments","dom","querySelectorAll","Array","isArray","NodeList","call","Node","air","type","Object","defineProperty","cb","forEach","app","l","args","it","node","ins","cloneNode","appendChild","map","Boolean","attributes","removeAttribute","getAttribute","z","setAttribute","className","classes","split","names","nm","indexOf","push","join","filter","toggleClass","create","tag","createElement","text","txt","createTextNode","n","props","getComputedStyle","getPropertyValue","prefix","o","inject","capture","addEventListener","off","removeEventListener","event","bubbles","cancelable","evt","createEvent","initEvent","dispatchEvent","createEventObject","fireEvent","click","selector","arr","concat","hidden","fn","parent","prepend","firstChild","removeChild","splice","Component","main","hooks","plugins","method","conf","field","construct","Fn","Type","apply","hook","comp","proxy","register"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA,mDAA2C,cAAc;;AAEzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;AChEA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,E;;;;;;;ACrIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,E;;;;;;;;;;ACVA,IAAIA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","file":"assets/js/main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 187);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 39cd78338ce4d0479d2a","module.exports = [\n\t{\n\t\t\"name\": \"bamboo-hut.jpg\",\n\t\t\"width\": 640,\n\t\t\"height\": 640,\n\t\t\"thumbnail\": \"bamboo-hut.jpg\"\n\t},\n\t{\n\t\t\"name\": \"bathing.jpg\",\n\t\t\"width\": 1068,\n\t\t\"height\": 712,\n\t\t\"thumbnail\": \"bathing.jpg\"\n\t},\n\t{\n\t\t\"name\": \"bonfire-decorations.jpg\",\n\t\t\"width\": 2048,\n\t\t\"height\": 1366,\n\t\t\"thumbnail\": \"bonfire-decorations.jpg\"\n\t},\n\t{\n\t\t\"name\": \"bonfire-night.jpg\",\n\t\t\"width\": 960,\n\t\t\"height\": 640,\n\t\t\"thumbnail\": \"bonfire-night.jpg\"\n\t},\n\t{\n\t\t\"name\": \"bridge.jpg\",\n\t\t\"width\": 2048,\n\t\t\"height\": 1366,\n\t\t\"thumbnail\": \"bridge.jpg\"\n\t},\n\t{\n\t\t\"name\": \"danny-paradise.jpg\",\n\t\t\"width\": 960,\n\t\t\"height\": 720,\n\t\t\"thumbnail\": \"danny-paradise.jpg\"\n\t},\n\t{\n\t\t\"name\": \"food.jpg\",\n\t\t\"width\": 960,\n\t\t\"height\": 640,\n\t\t\"thumbnail\": \"food.jpg\"\n\t},\n\t{\n\t\t\"name\": \"garden.jpg\",\n\t\t\"width\": 2048,\n\t\t\"height\": 1366,\n\t\t\"thumbnail\": \"garden.jpg\"\n\t},\n\t{\n\t\t\"name\": \"jungle-bungalow.jpg\",\n\t\t\"width\": 720,\n\t\t\"height\": 960,\n\t\t\"thumbnail\": \"jungle-bungalow.jpg\"\n\t},\n\t{\n\t\t\"name\": \"massage-class.jpg\",\n\t\t\"width\": 960,\n\t\t\"height\": 720,\n\t\t\"thumbnail\": \"massage-class.jpg\"\n\t},\n\t{\n\t\t\"name\": \"misty-bamboo-hut.jpg\",\n\t\t\"width\": 3264,\n\t\t\"height\": 2448,\n\t\t\"thumbnail\": \"misty-bamboo-hut.jpg\"\n\t},\n\t{\n\t\t\"name\": \"natural-pool.jpg\",\n\t\t\"width\": 960,\n\t\t\"height\": 720,\n\t\t\"thumbnail\": \"natural-pool.jpg\"\n\t},\n\t{\n\t\t\"name\": \"pizza-oven.jpg\",\n\t\t\"width\": 1088,\n\t\t\"height\": 726,\n\t\t\"thumbnail\": \"pizza-oven.jpg\"\n\t},\n\t{\n\t\t\"name\": \"pizza.jpg\",\n\t\t\"width\": 2048,\n\t\t\"height\": 1366,\n\t\t\"thumbnail\": \"pizza.jpg\"\n\t},\n\t{\n\t\t\"name\": \"pond.jpg\",\n\t\t\"width\": 1088,\n\t\t\"height\": 726,\n\t\t\"thumbnail\": \"pond.jpg\"\n\t},\n\t{\n\t\t\"name\": \"pool-tube.jpg\",\n\t\t\"width\": 1088,\n\t\t\"height\": 726,\n\t\t\"thumbnail\": \"pool-tube.jpg\"\n\t},\n\t{\n\t\t\"name\": \"sauna.jpg\",\n\t\t\"width\": 2048,\n\t\t\"height\": 1366,\n\t\t\"thumbnail\": \"sauna.jpg\"\n\t},\n\t{\n\t\t\"name\": \"shower-toilets.jpg\",\n\t\t\"width\": 1200,\n\t\t\"height\": 900,\n\t\t\"thumbnail\": \"shower-toilets.jpg\"\n\t},\n\t{\n\t\t\"name\": \"teak-house-front.jpg\",\n\t\t\"width\": 2448,\n\t\t\"height\": 2448,\n\t\t\"thumbnail\": \"teak-house-front.jpg\"\n\t},\n\t{\n\t\t\"name\": \"teak-house-interior.jpg\",\n\t\t\"width\": 2048,\n\t\t\"height\": 1366,\n\t\t\"thumbnail\": \"teak-house-interior.jpg\"\n\t},\n\t{\n\t\t\"name\": \"teak-house.jpg\",\n\t\t\"width\": 1200,\n\t\t\"height\": 900,\n\t\t\"thumbnail\": \"teak-house.jpg\"\n\t},\n\t{\n\t\t\"name\": \"waterfalls.jpg\",\n\t\t\"width\": 1088,\n\t\t\"height\": 726,\n\t\t\"thumbnail\": \"waterfalls.jpg\"\n\t}\n];\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../assets/js/gallery.json\n// module id = 0\n// module chunks = 0 2","module.exports = [\n\t\"01.shala.jpg\",\n\t\"02.group-massage.jpg\",\n\t\"03.teak-room.jpg\",\n\t\"04.shrine.jpg\",\n\t\"05.laos-kids.jpg\",\n\t\"06.padi.jpg\",\n\t\"07.bonfire.jpg\",\n\t\"08.yellow-kitchen.jpg\",\n\t\"09.kuang-si.jpg\"\n];\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../assets/js/slides.json\n// module id = 1\n// module chunks = 0 1","var $ = require('air'),\n  HOME = '#!',\n  PHOTOS = '#photos'\n\n$.plugin([\n  require('air/append'),\n  require('air/attr'),\n  require('air/class'),\n  require('air/create'),\n  require('air/css'),\n  require('air/data'),\n  require('air/event'),\n  require('air/find'),\n  require('air/hidden'),\n  require('air/parent'),\n  require('air/prepend'),\n  require('air/remove')\n])\n\nfunction Application () {\n  var Slideshow = require('./slideshow'),\n    Gallery = require('./image-gallery')\n  this.slideshow = new Slideshow({resize: resize})\n  this.gallery = new Gallery(\n    {viewport: viewport, navigate: this.navigate.bind(this)})\n\n  this.body = $('#scroll').get(0)\n  this.menu = $('.menu')\n  this.leader = $('.leader')\n  this.controls = $('.controls')\n  this.links = $('a[href^=\"#\"]')\n  this.info = $('.accomodation > div')\n\n  // make the entire info div click to the gallery image\n  this.info.on('click', function (e) {\n    var el = $(e.currentTarget),\n      href = $(el.find('a[href]').get(0)).attr('href')\n    document.location.hash = href\n  })\n}\n\nvar proto = Application.prototype\n\nfunction viewport () {\n  var w = Math.max(\n    document.documentElement.clientWidth, window.innerWidth || 0)\n  var h = Math.max(\n    document.documentElement.clientHeight, window.innerHeight || 0)\n  return {width: w, height: h}\n}\n\nfunction onNavigate (e) {\n  e.preventDefault()\n\n  var el = $(e.currentTarget),\n    href = el.attr('href')\n\n  this.navigate(href)\n\n  if (history) {\n    history.pushState({hash: href}, el.attr('title'), href)\n  }\n\n  return false\n}\n\nfunction navigate (href, replace) {\n  if (replace) {\n    history.replaceState({hash: href}, null, href)\n    return\n  }\n\n  var id = href.replace(/^#/, ''),\n    target = $('[id=\"' + id + '\"]'),\n    hash = document.location.hash\n\n  // handle home navigation\n  if (href === HOME) {\n    this.gallery.close()\n    if (this.body.scrollTop !== 0) {\n      this.scrollTo(0)\n    }\n  // handle navigation to `id` on the page\n  } else if (target.length) {\n    var rect = target.get(0).getBoundingClientRect(),\n      val = this.body.scrollTop + rect.top\n\n    this.gallery.close()\n    this.scrollTo(val)\n  // show photo gallery\n  } else if (href === PHOTOS) {\n    this.gallery.start(null, hash)\n  // handle deep-link to specific photo in the gallery\n  } else {\n    var item = this.gallery.find(id)\n    if (item) {\n      this.gallery.start(item, hash)\n    }\n  }\n}\n\nfunction onScroll () {\n  var val = this.body.scrollTop\n  if (!val) {\n    this.menu.removeClass('transparent')\n    this.leader.removeClass('transparent')\n    this.controls.show()\n  } else {\n    this.menu.addClass('transparent')\n    this.leader.addClass('transparent')\n    this.controls.hide()\n    this.slideshow.stop()\n  }\n}\n\nfunction resize (e, el) {\n  var max = 726,\n    height,\n    h = viewport().height\n  el = el || $('header .slide')\n\n  if (h > max) {\n    height = max + 'px'\n    el.css({\n      height: height,\n      'background-position': '0 0',\n      'background-size': 'auto'\n    })\n  } else {\n    height = '100%'\n    el.css({\n      height: height,\n      'background-position': 'center bottom',\n      'background-size': 'cover'\n    })\n  }\n\n  $('header').css({height: height})\n}\n\nfunction start () {\n  resize()\n\n  var blurPlaying\n\n  // allow animated scroll on page load\n  this.body.scrollTop = 0\n\n  // handle navigation on back button\n  function onPopState (e) {\n    e.preventDefault()\n    if (!e.state) {\n      // this.gallery.close();\n    } else {\n      // this.navigate(e.state.hash);\n    }\n  }\n\n  // gallery navigation on hash change\n  function onHashChange (e) {\n    e.preventDefault()\n    e.stopImmediatePropagation()\n    var hash = document.location.hash\n    if (hash) {\n      this.navigate(hash)\n    }\n  }\n\n  // check for hash on load\n  function onLoad (e) {\n    e.preventDefault()\n    e.stopImmediatePropagation()\n\n    var hash = document.location.hash\n    if (hash) {\n      this.navigate(hash)\n    } else {\n      this.navigate(HOME, true)\n    }\n  }\n\n  // stop slideshow on blur\n  function blur () {\n    blurPlaying = this.slideshow.playing\n    this.slideshow.stop()\n  }\n\n  // restart slideshow on focus\n  function focus () {\n    if (blurPlaying) {\n      this.slideshow.start()\n    }\n  }\n\n  $(this.body).on('scroll', onScroll.bind(this))\n  this.links.on('click', onNavigate.bind(this))\n\n  $(window).on('resize', resize)\n  $(window).on('blur', blur.bind(this))\n  $(window).on('focus', focus.bind(this))\n\n  this.onHashChange = onHashChange.bind(this)\n\n  $(window).on('load', onLoad.bind(this))\n  $(window).on('hashchange', this.onHashChange)\n  $(window).on('popstate', onPopState.bind(this))\n}\n\nfunction easeOutQuad (iteration, start, diff, total) {\n  return -diff * (iteration /= total) * (iteration - 2) + start\n}\n\nfunction scrollTo (val) {\n  var start = this.body.scrollTop,\n    body = this.body,\n    iteration = 0,\n    duration = 50,\n    diff = val > start ? start - val : val - start,\n    requestAnimationFrame = window.requestAnimationFrame ||\n                              window.mozRequestAnimationFrame ||\n                              window.webkitRequestAnimationFrame ||\n                              window.msRequestAnimationFrame\n\n  // catch when fully scrolled to the bottom and attempting to\n  // scroll to last section - which is already visible\n  if (body.offsetHeight + body.scrollTop >= body.scrollHeight\n    && (start < val)) {\n    return\n  }\n\n  // nothing to do\n  if (val === start) {\n    return\n  }\n\n  // perform the animation\n  function doScroll () {\n    var value = easeOutQuad(iteration, start, diff, duration)\n    body.scrollTop = value < 0 ? -value : value\n    if (iteration >= duration) {\n      body.scrollTop = val\n      return\n    }\n    requestAnimationFrame(doScroll)\n    iteration++\n  }\n\n  doScroll()\n}\n\nproto.start = start\nproto.scrollTo = scrollTo\nproto.navigate = navigate\n\nmodule.exports = Application\n\n\n\n// WEBPACK FOOTER //\n// /home/muji/git/circus-village/website/src/assets/js/app.js","var $ = require('air')\n\nfunction ImageGallery (opts) {\n  this.modal = $('.modal')\n\n  var scope = this,\n    modal = this.modal\n\n  function exit () {\n    var hash = scope.hash\n    scope.navigate(hash, true)\n    scope.close()\n  }\n\n  this.modal.find('.close').on('click', function (e) {\n    e.preventDefault()\n    e.stopImmediatePropagation()\n    exit()\n  })\n\n  this.modal.find('[href=\"#previous\"]').on('click', function (e) {\n    e.preventDefault()\n    e.stopImmediatePropagation()\n    scope.previous()\n  })\n\n  this.modal.find('[href=\"#next\"]').on('click', function (e) {\n    e.preventDefault()\n    e.stopImmediatePropagation()\n    scope.next()\n  })\n\n  $(window).on('resize', this.constrain.bind(this))\n\n  $(window).on('keyup', function (e) {\n    if (!modal.hasClass('hidden')) {\n      // dismiss on esc key\n      if (e.keyCode === 27) {\n        exit()\n      } else if (e.keyCode === 39) {\n        scope.next()\n      } else if (e.keyCode === 37) {\n        scope.previous()\n      }\n    }\n  })\n\n  this.navigate = opts.navigate\n  this.viewport = opts.viewport\n\n  this.base = 'assets/img/gallery/'\n  this.thumbs = 'assets/img/thumbnails/'\n  this.data = require('./gallery.json')\n  this.index = 0\n\n  this.preview = $('.modal > .preview > .images')\n  this.rendered = false\n}\n\nvar proto = ImageGallery.prototype\n\nfunction start (item, hash) {\n  this.modal.removeClass('hidden')\n  if (hash && !this.hash) {\n    this.hash = hash\n  }\n  this.layout()\n  this.load(item || this.item(this.index))\n}\n\nfunction item (index) {\n  return this.data[index]\n}\n\nfunction load (item) {\n  if (item === this.current) {\n    return\n  }\n\n  var src = this.base + item.name,\n    attrs = {src: src},\n    container = $.el('div', {class: 'vignette'}),\n    img\n\n  $('.modal > .viewer > .image > *').remove()\n\n  img = $.el('img', attrs)\n\n  container.append(img)\n  this.constrain(null, img, item)\n  $('.modal > .viewer > .image').append(container)\n\n  setTimeout(function () {\n    img.addClass('opaque')\n  }, 10)\n\n  this.current = item\n\n  // set selected image preview\n  $('.preview > .images').find('img').removeClass('selected')\n  $('.preview > .images').find(\n    'img[data-id=\"' + key(item.name) + '\"]').addClass('selected')\n}\n\nfunction constrain (e, el, item) {\n  if (this.modal.hasClass('hidden')) {\n    return\n  }\n\n  el = el || $('.modal > .viewer > .image img')\n  item = item || this.current\n  if (!item) {\n    return\n  }\n\n  var attrs = {},\n    w,\n    h,\n    iw = item.width,\n    ih = item.height,\n    landscape = iw > ih,\n    padding = 20,\n    ratio = 1,\n    preview = $('.modal .preview'),\n    viewport = this.viewport()\n\n  // the image cell is 80% so subtract 20% for correct width\n  var vw = viewport.width - (viewport.width * 0.2),\n    vh = viewport.height\n\n  // account for when the thumbnail preview is visible\n  if (preview.css('display') !== 'none') {\n    vh -= parseInt(preview.css('height').replace(/px$/, ''))\n  }\n\n  // clear previous attributes when resizing\n  el.attr('width', null)\n  el.attr('height', null)\n\n  // get current remaining attributes (maintains existing `src`)\n  attrs = el.attr()\n\n  // constraints including padding\n  w = Math.abs(vw - (padding * 2))\n  h = Math.abs(vh - (padding * 2))\n\n  // must not go smaller than this size\n  w = Math.max(w, 128)\n  h = Math.max(h, 128)\n\n  if (iw > w || ih > h) {\n    if (landscape) {\n      ratio = w / iw\n      attrs.width = w + 'px'\n\n      // after constrain on width - is the height too large?\n      if ((ih * ratio) > h) {\n        delete attrs.width\n        attrs.height = h + 'px'\n      }\n    } else {\n      ratio = h / ih\n      attrs.height = h + 'px'\n\n      // after constrain on height - is the width too large?\n      if ((iw * ratio) > w) {\n        delete attrs.height\n        attrs.width = w + 'px'\n      }\n    }\n  }\n\n  el.attr(attrs)\n\n  return attrs\n}\n\nfunction close () {\n  this.modal.addClass('hidden')\n  this.hash = null\n}\n\nfunction layout () {\n  if (this.rendered) {\n    return\n  }\n\n  var index = 0,\n    list = this.data.slice(0),\n    base = this.base,\n    thumbs = this.thumbs,\n    preview = this.preview\n\n  function next () {\n    var item = list.shift()\n    if (!item) {\n      return\n    }\n\n    var src = base + item.name\n\n    if (item.thumbnail) {\n      src = thumbs + item.thumbnail\n    }\n\n    var id = key(item.name),\n      anchor = $.el('a', {href: '#' + id}),\n      img = $.el('img', {src: src})\n\n    img.data('index', '' + index)\n    img.data('id', '' + id)\n\n    anchor.append(img)\n\n    preview.append(anchor)\n    index++\n    next()\n  }\n\n  next()\n  this.rendered = true\n}\n\nfunction key (name) {\n  return name.replace(/\\.jpg$/, '')\n}\n\nfunction next () {\n  this.index++\n  if (this.index >= this.data.length) {\n    this.index = 0\n  }\n  var item = this.item(this.index)\n  document.location.hash = '#' + key(item.name)\n}\n\nfunction previous () {\n  this.index--\n  if (this.index < 0) {\n    this.index = this.data.length - 1\n  }\n  var item = this.item(this.index)\n  document.location.hash = '#' + key(item.name)\n}\n\nfunction find (id) {\n  for (var i = 0; i < this.data.length; i++) {\n    if (key(this.data[i].name) === id) {\n      return this.data[i]\n    }\n  }\n}\n\nproto.start = start\nproto.item = item\nproto.load = load\nproto.close = close\nproto.next = next\nproto.find = find\nproto.previous = previous\nproto.constrain = constrain\nproto.layout = layout\n\nmodule.exports = ImageGallery\n\n\n\n// WEBPACK FOOTER //\n// /home/muji/git/circus-village/website/src/assets/js/image-gallery.js","function preloader (url, progress, callback) {\n  var img = new Image(),\n    req = new XMLHttpRequest()\n\n  img.loaded = 0\n\n  req.open('GET', url, true)\n\n  req.onload = function () {\n    if (callback) {\n      callback(img)\n    }\n  }\n\n  req.onprogress = function (e) {\n    if (e.lengthComputable) {\n      img.loaded = (e.loaded / e.total)\n      if (progress) {\n        progress(img, img.loaded)\n      }\n    }\n  }\n\n  req.onloadstart = function () {\n    img.loaded = 0\n    progress(img, img.loaded)\n  }\n\n  req.onloadend = function () {\n    img.loaded = 1\n  }\n\n  req.send()\n}\n\nmodule.exports = preloader\n\n\n\n// WEBPACK FOOTER //\n// /home/muji/git/circus-village/website/src/assets/js/preloader.js","var $ = require('air'),\n  preloader = require('./preloader')\n\nfunction Slideshow (opts) {\n  var scope = this,\n    i,\n    item,\n    img\n\n  this.base = 'assets/img/slides/'\n  this.slides = require('./slides.json')\n  this.playing = false\n  this.index = -1\n\n  this.controls = $('.controls')\n\n  // initialize the navigation controls for the slideshow\n  for (i = 0; i < this.slides.length; i++) {\n    item = $.el('li')\n    img = $.el('img', {src: 'assets/img/bullet.svg', alt: this.slides[i]})\n    item.append(img)\n    this.controls.find('ul').append(item)\n  }\n\n  this.controls.on('click', function (e) {\n    e.stopImmediatePropagation()\n  })\n\n  this.controls.find('li').each(function (el, index) {\n    el = $(el)\n    el.on('click', function () {\n      scope.select(index)\n    })\n  })\n\n  this.resize = opts.resize\n\n  // pause between slides\n  this.delay = 1000\n\n  // element that triggers play/pause\n  this.trigger = $('header')\n  this.trigger.on('click', this.toggle.bind(this))\n}\n\nvar proto = Slideshow.prototype\n\nfunction toggle () {\n  if (!this.playing) {\n    this.start()\n  } else {\n    this.stop()\n  }\n}\n\nfunction preload (index) {\n  if (!this.playing) {\n    return\n  }\n\n  this.loading = true\n\n  var url = this.base + this.slides[index],\n    scope = this,\n    el = $.el('img')\n\n  function progress (img, ratio) {\n    $('.progress').css(\n      {opacity: '' + ratio, width: Math.round(ratio * 100) + '%'})\n  }\n\n  preloader(url, progress, function () {\n    $('.progress').css({opacity: '0', transition: 'opacity 0.5s ease'})\n    scope.show(url)\n  })\n\n  var items = this.controls.find('li'),\n    item = $(items.get(index))\n  items.removeClass('selected')\n  item.addClass('selected')\n\n  $('body').append(el)\n}\n\nfunction wait (delay) {\n  delay = delay || this.delay\n  function pause () {\n    this.preload(this.next())\n  }\n  this.waiter = setTimeout(pause.bind(this), delay)\n}\n\nfunction show (url) {\n  var scope = this,\n    previous = $('header .slide'),\n    header = $.el('div', {class: 'slide'}),\n    style = {\n      'background-image': 'url(' + url + ')',\n      opacity: '0',\n      'z-index': '1'\n    }\n\n  // shift previous slide behind\n  var prev = {\n    position: 'absolute',\n    'z-index': '-2',\n    left: '0',\n    top: '0'\n  }\n  // NOTE: must maintain previous inline background-image for firefox\n  prev['background-image'] = previous.css()['background-image']\n  previous.css(prev)\n\n  // set up style for new slide\n  header.css(style)\n\n  // inject new slide into the DOM\n  previous.get(0).parentNode.insertBefore(\n    header.get(0), this.controls.get(0))\n\n  this.resize(null, header)\n\n  function remove () {\n    $('header').removeClass('welcome')\n    this.loading = false\n    if (this.queued) {\n      this.start(this.queued)\n      this.queued = null\n      return\n    }\n    previous.remove()\n    this.wait()\n  }\n\n  setTimeout(function () {\n    header.on('transitionend', remove.bind(scope))\n    style.opacity = '1'\n    header.css(style)\n  }, 10)\n}\n\nfunction start (index) {\n  if (this.playing) {\n    return\n  }\n\n  $('.menu, .leader').addClass('transparent')\n\n  if (this.loading) {\n    // queue the item for animation complete\n    this.queued = index\n    return\n  }\n\n  this.playing = true\n  this.preload(index !== undefined ? index : this.next())\n}\n\nfunction stop () {\n  if (!this.playing) {\n    return\n  }\n\n  $('.menu, .leader').removeClass('transparent')\n\n  clearTimeout(this.waiter)\n  this.playing = false\n}\n\nfunction select (index) {\n  if (index < 0) {\n    index = 0\n  } else if (index >= this.slides.length) {\n    index = this.slides.length - 1\n  }\n\n  if (index === this.index) {\n    return\n  }\n\n  this.index = index\n  if (this.playing) {\n    this.stop()\n    this.start(this.index)\n  } else {\n    this.start(this.index)\n  }\n}\n\nfunction next () {\n  this.index++\n  if (this.index >= this.slides.length) {\n    this.index = 0\n  }\n  return this.index\n}\n\nproto.start = start\nproto.preload = preload\nproto.show = show\nproto.select = select\nproto.next = next\nproto.stop = stop\nproto.toggle = toggle\nproto.wait = wait\n\nmodule.exports = Slideshow\n\n\n\n// WEBPACK FOOTER //\n// /home/muji/git/circus-village/website/src/assets/js/slideshow.js",";(function() {\n  'use strict'\n\n  var plug = require('zephyr');\n\n  /**\n   *  Chainable wrapper class.\n   *\n   *  This is the core of the entire plugin system and typically you extend\n   *  functionality by adding methods to the prototype of this function.\n   *\n   *  However a plugin may also add static methods to the main function,\n   *  see the `create` plugin for an example of adding static methods.\n   *\n   *  This implementation targets modern browsers (IE9+) and requires that\n   *  the array methods `isArray`, `forEach` and `filter` are available,\n   *  for older browsers you will need to include polyfills.\n   *\n   *  @param el A selector, DOM element, array of elements or Air instance.\n   *  @param context The context element for a selector.\n   */\n  function Air(el, context) {\n    if(!(this instanceof Air)) {\n      return new Air(el, context);\n    }\n    if(typeof context === 'string') {\n      context = document.querySelector(context);\n    }else if(context instanceof Air) {\n      context = context.get(0);\n    }\n    context = context || document;\n    // NOTE: do not pass empty string to querySelectorAll\n    if(!arguments.length || el === '') {\n      this.dom = []; \n    }else{\n      this.dom = typeof el === 'string' ? context.querySelectorAll(el) : el;\n    }\n    if(el instanceof Air) {\n      this.dom = el.dom.slice(0);\n    }else if(!Array.isArray(el)) {\n      if(this.dom instanceof NodeList) {\n        this.dom = Array.prototype.slice.call(this.dom);\n      }else if(el) { \n        this.dom = ((el instanceof Node) || el === window) ? [el] : [];\n      }\n    }\n\n    // shortcut to Array.prototype.slice\n    this.slice = Array.prototype.slice;\n  }\n\n  var proto = Air.prototype\n    , air = plug({proto: proto, type: Air});\n\n  /**\n   *  Get the number of wrapped DOM elements.\n   */\n  Object.defineProperty(\n    proto, 'length', {get: function(){return this.dom.length}});\n\n  /**\n   *  Get the DOM element at the specified index.\n   */\n  proto.get = function get(index) {\n    if(index === undefined) {\n      return this.dom;\n    }\n    return this.dom[index];\n  }\n\n  /**\n   *  Iterate the encapsulated DOM elements.\n   */\n  proto.each = function each(cb) {\n    this.dom.forEach(cb);\n    return this;\n  }\n\n  // expose class reference\n  air.Air = Air;\n\n  // alias main function\n  proto.air = air;\n\n  module.exports = air;\n})();\n\n\n\n// WEBPACK FOOTER //\n// /home/muji/git/circus-village/website/~/air/lib/air.js","var Application = require('./app'),\n  app = new Application()\napp.start()\n\n\n\n// WEBPACK FOOTER //\n// /home/muji/git/circus-village/website/src/assets/js/index.js","/**\n *  Insert content, specified by the parameter, to the end of each\n *  element in the set of matched elements.\n */\nfunction append() {\n  var i, l = this.length, el, args = this.slice.call(arguments);\n  function it(node, index) {\n    // content elements to insert\n    el.each(function(ins) {\n      ins = (index < (l - 1)) ? ins.cloneNode(true) : ins;\n      node.appendChild(ins);\n    });\n  }\n  for(i = 0;i < args.length;i++) {\n    // wrap content\n    el = this.air(args[i]);\n    // matched parent elements (targets)\n    this.each(it);\n  }\n  return this;\n}\n\nmodule.exports = function() {\n  this.append = append;\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/muji/git/circus-village/website/~/air/lib/air/append.js","/**\n *  Get the value of an attribute for the first element in the set of\n *  matched elements or set one or more attributes for every matched element.\n */\nfunction attr(key, val) {\n  var i, attrs, map = {};\n  if(!this.length || key !== undefined && !Boolean(key)) {\n    return this;\n  }\n\n  if(key === undefined && val === undefined) {\n    // no args, get all attributes for first element as object\n    attrs = this.dom[0].attributes;\n    // convert NamedNodeMap to plain object\n    for(i = 0;i < attrs.length;i++) {\n      // NOTE: nodeValue is deprecated, check support for `value` in IE9!\n      map[attrs[i].name] = attrs[i].value;\n    }\n    return map;\n  }else if(typeof key === 'string' && !val) {\n    // delete attribute on all matched elements\n    if(val === null) {\n      this.each(function(el) {\n        el.removeAttribute(key);\n      })\n      return this;\n    }\n    // get attribute for first matched elements\n    return this.dom[0].getAttribute(key);\n  // handle object map of attributes\n  }else {\n    this.each(function(el) {\n      if(typeof key === 'object') {\n        for(var z in key) {\n          if(key[z] === null) {\n            el.removeAttribute(z);\n            continue;\n          }\n          el.setAttribute(z, key[z]);\n        }\n      }else{\n        el.setAttribute(key, val);\n      }\n    });\n  }\n  return this;\n}\n\nmodule.exports = function() {\n  this.attr = attr;\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/muji/git/circus-village/website/~/air/lib/air/attr.js","/**\n *  IE9 does not support `Element.classList`, when support for IE9 is\n *  dropped this can be refactored.\n */\nvar attr = 'class';\n\n/**\n *  Adds the specified class(es) to each of the set of matched elements.\n */\nfunction addClass(className) {\n  if(!className) {\n    return this;\n  }\n  var classes = className.split(/\\s+/);\n  this.each(function(el) {\n    var val = el.getAttribute(attr);\n    var names = val ? val.split(/\\s+/) : [];\n    classes.forEach(function(nm) {\n      if(!~names.indexOf(nm)) {\n        names.push(nm);\n      }\n    });\n    el.setAttribute(attr, names.join(' '));\n  });\n  return this;\n}\n\n/**\n *  Determine whether any of the matched elements are assigned the\n *  given class.\n */\nfunction hasClass(className) {\n  var i, val;\n  for(i = 0;i < this.length;i++) {\n    val = this.get(i).getAttribute(attr);\n    val = val ? val.split(/\\s+/) : [];\n    if(~val.indexOf(className)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n *  Remove a single class, multiple classes, or all classes from\n *  each element in the set of matched elements.\n */\nfunction removeClass(className) {\n  if(!className) {\n    // remove all classes from all matched elements\n    this.each(function(el) {\n      el.removeAttribute(attr);\n    });\n    return this;\n  }\n  var classes = className.split(/\\s+/);\n  this.each(function(el) {\n    var val = el.getAttribute(attr);\n    // no class attribute - nothing to remove\n    if(!val) {\n      return;\n    }\n    var names = val.split(/\\s+/);\n    names = names.filter(function(nm) {\n      return ~classes.indexOf(nm) ? false : nm;\n    });\n    el.setAttribute(attr, names.join(' '));\n  });\n  return this;\n}\n\n/**\n *  Add or remove one or more classes from each element in the set of \n *  matched elements depending on the class's presence.\n */\nfunction toggleClass(className) {\n  var classes = className.split(/\\s+/)\n    , name\n    , i;\n  for(i = 0;i < classes.length;i++) {\n    name = classes[i];\n    if(this.hasClass(name)) {\n      this.removeClass(name)\n    }else{\n      this.addClass(name)\n    }\n  }\n}\n\nmodule.exports = function() {\n  this.addClass = addClass;\n  this.hasClass = hasClass;\n  this.removeClass = removeClass;\n  this.toggleClass = toggleClass;\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/muji/git/circus-village/website/~/air/lib/air/class.js","/**\n *  Create a DOM element.\n *\n *  @param tag The element tag name.\n */\nfunction create(tag) {\n  return document.createElement(tag);\n}\n\n/**\n *  Create a text node.\n *\n *  @param txt The text for the node.\n */\nfunction text(txt) {\n  return document.createTextNode(txt);\n}\n\n/**\n *  Create a wrapped DOM element.\n *\n *  @param tag The element tag name.\n *  @param attrs Object map of element attributes.\n */\nfunction el(tag, attrs) {\n  var n = el.air(create(tag));\n  if(attrs && n.attr) {\n    return n.attr(attrs);\n  }\n  return n;\n}\n\nmodule.exports = function() {\n  // static method needs access to main function\n  // to wrap the created element\n  el.air = this.air;\n\n  this.air.create = create;\n  this.air.el = el;\n  this.air.text = text;\n}\n\n// optional `attr` dependency\n//plugin.deps = {attr: false};\n\n\n\n// WEBPACK FOOTER //\n// /home/muji/git/circus-village/website/~/air/lib/air/create.js","/**\n *  Get the value of a computed style property for the first element\n *  in the set of matched elements or set one or more CSS properties\n *  for every matched element.\n */\nfunction css(key, val) {\n  var style, props;\n  if(!this.length) {\n    return this;\n  }\n\n  if(key && typeof key === 'object') {\n    props = key;\n  }else if(key && val) {\n    props = {};\n    props[key] = val;\n  }\n\n  // get style object\n  if(key === undefined) {\n    style = window.getComputedStyle(this.dom[0], null);\n    // TODO: convert to plain object map?\n    // for the moment return CSSStyleDeclaration\n    return style;\n  // get single style property value\n  }else if(typeof key === 'string' && !val) {\n    style = window.getComputedStyle(this.dom[0], null);\n    return style.getPropertyValue(key);\n  }\n\n  // set inline styles\n  this.each(function(el) {\n    el.style = el.style;\n    for(var z in props) {\n      el.style[z] = '' + props[z];\n    }\n  });\n  return this;\n}\n\nmodule.exports = function() {\n  this.css = css;\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/muji/git/circus-village/website/~/air/lib/air/css.js","var prefix = 'data-';\n\n/**\n *  Get a data attribute of the first matched element or\n *  set `data` attribute(s) on all matched elements.\n *\n *  Requires that the `attr` plugin has been loaded.\n */\nfunction data(key, val) {\n  var o = {}, z;\n\n  function inject(name) {\n    if(typeof name === 'string' && name.indexOf(prefix) !== 0) {\n      name = prefix + name;\n    }\n    return name;\n  }\n\n  if(typeof key === 'string') {\n    key = inject(key);\n  }else if(typeof key === 'object') {\n    for(z in key) {\n      o[inject(z)] = key[z];\n    }\n    key = o;\n  }\n\n  return this.attr(key, val);\n}\n\nmodule.exports = function() {\n  this.data = data;\n}\n\n// required `attr` dependency\n//plugin.deps = {attr: true};\n\n\n\n// WEBPACK FOOTER //\n// /home/muji/git/circus-village/website/~/air/lib/air/data.js","function on(nm, cb, capture) {\n  this.each(function(el) {\n    el.addEventListener(nm, cb, capture);\n  });\n  return this;\n}\n\nfunction off(nm, cb, capture) {\n  this.each(function(el) {\n    el.removeEventListener(nm, cb, capture);\n  });\n  return this;\n}\n\nfunction trigger(event, bubbles, cancelable, type) {\n  bubbles = typeof(bubbles) === undefined ? true : bubbles;\n  cancelable = typeof(cancelable) === undefined ? true : cancelable;\n  type = type || 'HTMLEvents';\n  this.each(function(el) {\n    var evt;\n    if(document.createEvent) {\n      // dispatch for firefox + others\n      evt = document.createEvent(type);\n      // event type,bubbling,cancelable\n      evt.initEvent(event, bubbles, cancelable);\n      return !el.dispatchEvent(evt);\n    }else{\n      // dispatch for IE\n      evt = document.createEventObject();\n      return el.fireEvent('on' + event, evt)\n    }\n  });\n}\n\nfunction click(bubbles, cancelable) {\n  return this.trigger('click', bubbles, cancelable, 'MouseEvents');\n}\n\nmodule.exports = function() {\n  this.on = on;\n  this.off = off;\n  this.trigger = trigger;\n  this.click = click;\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/muji/git/circus-village/website/~/air/lib/air/event.js","/**\n *  Get the descendants of each element in the current set\n *  of matched elements, filtered by a selector.\n */\nfunction find(selector) {\n  var arr = [], $ = this.air, slice = this.slice;\n  this.each(function(el) {\n    arr = arr.concat(slice.call($(selector, el).dom));\n  });\n  return $(arr);\n}\n\nmodule.exports = function() {\n  this.find = find;\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/muji/git/circus-village/website/~/air/lib/air/find.js","var attr = 'hidden';\n\n/**\n *  Modify the hidden attribute.\n */\nfunction hidden(val) {\n  // return whether the first element in the set\n  // is hidden\n  if(val === undefined) {\n    return this.attr(attr);\n  // hide on truthy\n  }else if(val) {\n    this.attr(attr, '1');\n  // show on falsey\n  }else{\n    this.attr(attr, null);\n  }\n  return this;\n}\n\nfunction show(fn) {\n  this.hidden(false);\n  if(typeof fn === 'function') {\n    fn.call(this);\n  }\n  return this;\n}\n\nfunction hide(fn) {\n  this.hidden(true);\n  if(typeof fn === 'function') {\n    fn.call(this);\n  }\n  return this.hidden(true);\n}\n\nmodule.exports = function() {\n  this.hidden = hidden;\n  this.show = show;\n  this.hide = hide;\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/muji/git/circus-village/website/~/air/lib/air/hidden.js","/**\n *  Get the parent of each element in the current set of matched elements,\n *  optionally filtered by a selector.\n *\n *  TODO: implement selector filtering\n */\nfunction parent(/*selector*/) {\n  var arr = [], $ = this.air, slice = this.slice;\n  this.each(function(el) {\n    arr = arr.concat(slice.call($(el.parentNode).dom));\n  });\n  return $(arr);\n}\n\nmodule.exports = function() {\n  this.parent = parent;\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/muji/git/circus-village/website/~/air/lib/air/parent.js","/**\n *  Insert content, specified by the parameter, to the beginning of each\n *  element in the set of matched elements.\n */\nfunction prepend() {\n  var i, l = this.length, el, args = this.slice.call(arguments);\n  function it(node, index) {\n    // content elements to insert\n    el.each(function(ins) {\n      ins = (index < (l - 1)) ? ins.cloneNode(true) : ins;\n      // no children yet - append\n      if(!node.firstChild) {\n        node.appendChild(ins);\n      // insert before first child\n      }else{\n        node.insertBefore(ins, node.firstChild);\n      }\n    });\n  }\n  for(i = 0;i < args.length;i++) {\n    // wrap content\n    el = this.air(args[i]);\n    // matched parent elements (targets)\n    this.each(it);\n  }\n  return this;\n}\n\nmodule.exports = function() {\n  this.prepend = prepend;\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/muji/git/circus-village/website/~/air/lib/air/prepend.js","/**\n *  Remove all matched elements.\n */\nfunction remove() {\n  var i, el;\n  for(i = 0;i < this.length;i++) {\n    el = this.dom[i];\n    // if for some reason this point to the document element\n    // an exception will occur, pretty hard to reproduce so\n    // going to let it slide\n    if(el.parentNode) {\n      el.parentNode.removeChild(el);\n      this.dom.splice(i, 1);\n      i--;\n    }\n  }\n  return this;\n}\n\nmodule.exports = function() {\n  this.remove = remove;\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/muji/git/circus-village/website/~/air/lib/air/remove.js",";(function() {\n  'use strict'\n\n  function plug(opts) {\n    opts = opts || {};\n\n    /**\n     *  Default plugin class.\n     */\n    function Component(){}\n\n    var main\n      , hooks = opts.hooks\n      , proto = opts.proto || Component.prototype;\n\n    /**\n     *  Plugin method.\n     *\n     *  @param plugins Array of plugin functions.\n     */\n    function plugin(plugins) {\n      var z, method, conf;\n      for(z in plugins) {\n        if(typeof plugins[z] === 'function') {\n          method = plugins[z];\n        }else{\n          method = plugins[z].plugin;\n          conf = plugins[z].conf;\n        }\n        if(opts.field && typeof method[opts.field] === 'function') {\n          method = method[opts.field];\n        }\n        method.call(proto, conf);\n      }\n      return main;\n    }\n\n    /**\n     *  Create an instance of the class represented by *Type* and proxy\n     *  all arguments to the constructor.\n     */\n    function construct() {\n      var args = Array.prototype.slice.call(arguments);\n      function Fn() {\n        return main.Type.apply(this, args);\n      }\n      Fn.prototype = main.Type.prototype;\n      return new Fn();\n    }\n\n    /**\n     *  Invoke constructor hooks by proxying to the main construct\n     *  function and invoking registered hook functions in the scope\n     *  of the created component.\n     */\n    function hook() {\n      var comp = hook.proxy.apply(null, arguments);\n      for(var i = 0;i < hooks.length;i++) {\n        hooks[i].apply(comp, arguments);\n      }\n      return comp;\n    }\n\n    /**\n     *  Register a constructor hook function.\n     *\n     *  @param fn The constructor hook.\n     */\n    function register(fn) {\n      if(typeof fn === 'function' && !~hooks.indexOf(fn)) {\n        hooks.push(fn);\n      }\n    }\n\n    main = opts.main || construct;\n\n    // hooks enabled, wrap main function aop style\n    if(Array.isArray(hooks)) {\n      hook.proxy = main;\n      main = hook;\n    }\n\n    // class to construct\n    main.Type = opts.type || Component;\n\n    // static and instance plugin method\n    main.plugin = proto.plugin = opts.plugin || plugin;\n\n    // hooks enabled, decorate with register function\n    if(Array.isArray(hooks)) {\n      main.plugin.register = register;\n    }\n\n    // reference to the main function for static assignment\n    proto.main = main;\n\n    return main;\n  }\n\n  module.exports = plug;\n})();\n\n\n\n// WEBPACK FOOTER //\n// /home/muji/git/circus-village/website/~/zephyr/lib/zephyr.js"],"sourceRoot":""}